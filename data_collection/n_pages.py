import pandas as pd
from qiita_api import QiitaAPI


def main():
    start_date = "2020-01-01"
    end_date   = "2022-11-30"
    api = QiitaAPI()

    for date in pd.date_range(start=start_date, end=end_date, freq="MS"):
        ym = date.strftime("%Y-%m")
        print(ym, api.n_pages(ym, page=1, per_page=1))


if __name__ == "__main__":
    main()

"""
2020-01,10913
2020-02,10594
2020-03,12181
2020-04,11688
2020-05,13650
2020-06,11083
2020-07,11204
2020-08,10759
2020-09,10327
2020-10,9903
2020-11,10904
2020-12,17493
2021-01,10487
2021-02,9492
2021-03,10429
2021-04,9199
2021-05,9696
2021-06,9079
2021-07,8313
2021-08,8454
2021-09,8252
2021-10,7573
2021-11,7852
2021-12,13691
2022-01,8032
2022-02,7696
2022-03,8262
2022-04,7664
2022-05,8209
2022-06,7793
2022-07,7849
2022-08,7482
2022-09,7103
2022-10,7195
2022-11,8094
"""